
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>QCArchive in 15 minutes &#8212; QCArchive documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=68b739ae" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=b612e419"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'quickstart/qca_15min';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How do I retrieve computation results by ID?" href="record_retrieval.html" />
    <link rel="prev" title="QCArchive Quickstart" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.61.post11+g81a5da0a1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/qcarchive_logo.svg" class="logo__image only-light" alt=""/>
    <img src="../_static/qcarchive_logo_inverted.svg" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">QCArchive</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../overview/index.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release_notes.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../admin_guide/index.html">
    Admin Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../web_api/index.html">
    Web API
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../developer_guide/index.html">
    Developer Guide
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://molssi.org">
    MolSSI
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MolSSI/QCFractal" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Quickstart
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../overview/index.html">
    Overview
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../release_notes.html">
    Release Notes
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../admin_guide/index.html">
    Admin Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../web_api/index.html">
    Web API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developer_guide/index.html">
    Developer Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://molssi.org">
    MolSSI
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/MolSSI/QCFractal" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Overview:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">QCArchive in 15 minutes</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Quickstart Guides:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="record_retrieval.html">How do I retrieve computation results by ID?</a></li>
<li class="toctree-l1"><a class="reference internal" href="record_query.html">How do I search for specific types of computations?</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">QCArchive Quickstart</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">QCArchive in 15 minutes</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="qcarchive-in-15-minutes">
<span id="overview-tutorial"></span><h1>QCArchive in 15 minutes<a class="headerlink" href="#qcarchive-in-15-minutes" title="Link to this heading">#</a></h1>
<p>This tutorial will give you an overview of possible actions in QCArchive.
Using QCArchive, you can:</p>
<ol class="arabic simple">
<li><p>Submit a single or set of computations to a server, following a variety of workflows.</p></li>
<li><p>Retrieve the results of previous computations.</p></li>
<li><p>Query the database for particular computations.</p></li>
<li><p>Create datasets holding related quantum chemistry computations.</p></li>
<li><p>Retrieve results from datasets.</p></li>
</ol>
<p>This notebook will briefly walk you through each capability.
For more details, we recommend you follow our other starter tutorials.</p>
<section id="connecting-to-a-server">
<h2>Connecting to a server<a class="headerlink" href="#connecting-to-a-server" title="Link to this heading">#</a></h2>
<p>To work with QCArchive, you will need to connect to a QCArchive server.
For the QuickStart tutorials, we will connect to the QCArchive Demo Server.
To interact with a server, you will create a QCPortal client using <code class="docutils literal notranslate"><span class="pre">PortalClient</span></code>.
The argument to <code class="docutils literal notranslate"><span class="pre">PortalClient</span></code> is the server address.
To work with the QCArchive demo server, enter <code class="docutils literal notranslate"><span class="pre">https://qcademo.molssi.org</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">qcportal</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ptl</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">ptl</span><span class="o">.</span><span class="n">PortalClient</span><span class="p">(</span><span class="s2">&quot;https://qcademo.molssi.org&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "ba7cbd9fa42e4ef0aa5ab9c75fb9d381"}</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING: This client version is newer than the server version. This may work if the versions are close, but expect exceptions and errors if attempting things the server does not support. client version: 0.61.post11+g81a5da0a1, server version: 0.59
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PortalClient(server_name=&#39;MolSSI QCFractal Demo Server&#39;, address=&#39;https://qcademo.molssi.org/&#39;, username=&#39;None&#39;)
</pre></div>
</div>
</div>
</div>
<p>We now have a QCPortal client that we can use to read from and query the QCArchive demo server.</p>
</section>
<section id="retrieving-data-and-querying-the-database">
<h2>Retrieving Data and Querying the Database<a class="headerlink" href="#retrieving-data-and-querying-the-database" title="Link to this heading">#</a></h2>
<section id="how-do-i-retrieve-computation-results-by-id">
<h3>How do I retrieve computation results by ID?<a class="headerlink" href="#how-do-i-retrieve-computation-results-by-id" title="Link to this heading">#</a></h3>
<p>We can retrieve computations by ID using the <code class="docutils literal notranslate"><span class="pre">client.get_records</span></code> function.
Each computation in the database is given an integer ID number.
The cell below shows retrieval of the calculation result with ID 1.
We see that this computation was a single point computation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_record</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_records</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_record</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;SinglepointRecord id=1 status=RecordStatusEnum.complete&gt;
</pre></div>
</div>
</div>
</div>
<p>Typically, properties from a calculation can be viewed using the <code class="docutils literal notranslate"><span class="pre">.properties</span></code> attribute for a result.
The calculated properties are in a dictionary.
In the cell below, we print the SCF total energy from our calcuation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">first_record</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;scf_total_energy&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-1.1117197122934774
</pre></div>
</div>
</div>
</div>
<p>We can print information about the computation like the molecule name and properties.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Molecule: </span><span class="si">{</span><span class="n">first_record</span><span class="o">.</span><span class="n">molecule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, Energy: </span><span class="si">{</span><span class="n">first_record</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s1">&#39;scf_total_energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Molecule: H2, Energy: -1.1117197122934774
</pre></div>
</div>
</div>
</div>
<p>If you pass in several IDs, you will receive a list of results that can be iterated through.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">multiple_records</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_records</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> 

<span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">multiple_records</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Molecule: </span><span class="si">{</span><span class="n">record</span><span class="o">.</span><span class="n">molecule</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, Energy: </span><span class="si">{</span><span class="n">record</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s1">&#39;scf_total_energy&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Molecule: H2, Energy: -1.1117197122934774
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Molecule: HO, Energy: -74.36430040801095
Molecule: H2O, Energy: -74.82586558254185
</pre></div>
</div>
</div>
</div>
</section>
<section id="how-do-i-search-for-particular-types-of-computations">
<h3>How do I search for particular types of computations?<a class="headerlink" href="#how-do-i-search-for-particular-types-of-computations" title="Link to this heading">#</a></h3>
<p>You can search the database for particular computations using <code class="docutils literal notranslate"><span class="pre">query_records</span></code>.
For example, to see all results from a particular time period, we can use
<code class="docutils literal notranslate"><span class="pre">query_records</span></code> with arguments <code class="docutils literal notranslate"><span class="pre">created_before</span></code> and <code class="docutils literal notranslate"><span class="pre">created_after</span></code>.</p>
<p>There are many fields you can query the database on and this can differ by the type of computation you’d like to retrieve.
The query method returns a Python iterator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">records</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">query_records</span><span class="p">(</span><span class="n">created_after</span><span class="o">=</span><span class="s2">&quot;2024/01/01&quot;</span><span class="p">)</span>

<span class="c1"># Print the first record.</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">records</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">PortalRequestError</span><span class="g g-Whitespace">                        </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">records</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">query_records</span><span class="p">(</span><span class="n">created_after</span><span class="o">=</span><span class="s2">&quot;2024/01/01&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># Print the first record.</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">records</span><span class="p">))</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/client.py:936,</span> in <span class="ni">PortalClient.query_records</span><span class="nt">(self, record_id, record_type, manager_name, status, dataset_id, parent_id, child_id, created_before, created_after, modified_before, modified_after, creator_user, limit, include)</span>
<span class="g g-Whitespace">    </span><span class="mi">918</span> <span class="n">filter_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="g g-Whitespace">    </span><span class="mi">919</span>     <span class="s2">&quot;record_id&quot;</span><span class="p">:</span> <span class="n">make_list</span><span class="p">(</span><span class="n">record_id</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">920</span>     <span class="s2">&quot;record_type&quot;</span><span class="p">:</span> <span class="n">make_list</span><span class="p">(</span><span class="n">record_type</span><span class="p">),</span>
   <span class="p">(</span><span class="o">...</span><span class="p">)</span>    <span class="mi">931</span>     <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="n">limit</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">932</span> <span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">934</span> <span class="n">filter_data</span> <span class="o">=</span> <span class="n">RecordQueryFilters</span><span class="p">(</span><span class="o">**</span><span class="n">filter_dict</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">936</span> <span class="k">return</span> <span class="n">RecordQueryIterator</span><span class="p">[</span><span class="n">BaseRecord</span><span class="p">](</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_data</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">include</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/typing.py:1289,</span> in <span class="ni">_BaseGenericAlias.__call__</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">   </span><span class="mi">1286</span> <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inst</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1287</span>     <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Type </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="si">}</span><span class="s2"> cannot be instantiated; &quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1288</span>                     <span class="sa">f</span><span class="s2">&quot;use </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">__origin__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">() instead&quot;</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1289</span> <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__origin__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1290</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1291</span>     <span class="n">result</span><span class="o">.</span><span class="n">__orig_class__</span> <span class="o">=</span> <span class="bp">self</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/record_models.py:865,</span> in <span class="ni">RecordQueryIterator.__init__</span><span class="nt">(self, client, query_filters, record_type, include)</span>
<span class="g g-Whitespace">    </span><span class="mi">862</span> <span class="bp">self</span><span class="o">.</span><span class="n">record_type</span> <span class="o">=</span> <span class="n">record_type</span>
<span class="g g-Whitespace">    </span><span class="mi">863</span> <span class="bp">self</span><span class="o">.</span><span class="n">include</span> <span class="o">=</span> <span class="n">include</span>
<span class="ne">--&gt; </span><span class="mi">865</span> <span class="n">QueryIteratorBase</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">,</span> <span class="n">query_filters</span><span class="p">,</span> <span class="n">batch_limit</span><span class="p">)</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/base_models.py:108,</span> in <span class="ni">QueryIteratorBase.__init__</span><span class="nt">(self, client, query_filters, batch_limit)</span>
<span class="g g-Whitespace">    </span><span class="mi">105</span> <span class="c1"># Total number of rows/whatever we want to fetch</span>
<span class="g g-Whitespace">    </span><span class="mi">106</span> <span class="bp">self</span><span class="o">.</span><span class="n">_total_limit</span> <span class="o">=</span> <span class="n">query_filters</span><span class="o">.</span><span class="n">limit</span>
<span class="ne">--&gt; </span><span class="mi">108</span> <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/base_models.py:118,</span> in <span class="ni">QueryIteratorBase.reset</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_batch</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">116</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetched</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
<span class="ne">--&gt; </span><span class="mi">118</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_batch</span><span class="p">()</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/base_models.py:145,</span> in <span class="ni">QueryIteratorBase._fetch_batch</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">141</span>     <span class="n">new_limit</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_limit</span>
<span class="g g-Whitespace">    </span><span class="mi">143</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_filters</span><span class="o">.</span><span class="n">limit</span> <span class="o">=</span> <span class="n">new_limit</span>
<span class="ne">--&gt; </span><span class="mi">145</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_batch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">146</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetched</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_batch</span><span class="p">)</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/record_models.py:869,</span> in <span class="ni">RecordQueryIterator._request</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">867</span> <span class="k">def</span><span class="w"> </span><span class="nf">_request</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">_Record_T</span><span class="p">]:</span>
<span class="g g-Whitespace">    </span><span class="mi">868</span>     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">record_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">869</span>         <span class="n">record_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_client</span><span class="o">.</span><span class="n">make_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">870</span>             <span class="s2">&quot;post&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">871</span>             <span class="sa">f</span><span class="s2">&quot;api/v1/records/query&quot;</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">872</span>             <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
<span class="g g-Whitespace">    </span><span class="mi">873</span>             <span class="n">body</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_query_filters</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">874</span>         <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">875</span>     <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">876</span>         <span class="c1"># Get the record type string. This is kind of ugly, but works.</span>
<span class="g g-Whitespace">    </span><span class="mi">877</span>         <span class="n">record_type_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">record_type</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="s2">&quot;record_type&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">default</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/client_base.py:524,</span> in <span class="ni">PortalClientBase.make_request</span><span class="nt">(self, method, endpoint, response_model, body_model, url_params_model, body, url_params, upload_files, allow_retries, additional_headers)</span>
<span class="g g-Whitespace">    </span><span class="mi">520</span>     <span class="n">file_data</span> <span class="o">=</span> <span class="kc">None</span>
<span class="g g-Whitespace">    </span><span class="mi">522</span> <span class="k">assert</span> <span class="p">(</span><span class="n">serialized_body</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">file_data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># Just to check my logic</span>
<span class="ne">--&gt; </span><span class="mi">524</span> <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">525</span>     <span class="n">method</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">526</span>     <span class="n">endpoint</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">527</span>     <span class="n">body</span><span class="o">=</span><span class="n">serialized_body</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">528</span>     <span class="n">url_params</span><span class="o">=</span><span class="n">parsed_url_params</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">529</span>     <span class="n">file_data</span><span class="o">=</span><span class="n">file_data</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">530</span>     <span class="n">allow_retries</span><span class="o">=</span><span class="n">allow_retries</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">531</span>     <span class="n">additional_headers</span><span class="o">=</span><span class="n">additional_headers</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">532</span> <span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">533</span> <span class="n">d</span> <span class="o">=</span> <span class="n">deserialize</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">])</span>
<span class="g g-Whitespace">    </span><span class="mi">535</span> <span class="k">if</span> <span class="n">response_model</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

<span class="nn">File ~/work/QCFractal/QCFractal/qcportal/qcportal/client_base.py:473,</span> in <span class="ni">PortalClientBase._request</span><span class="nt">(self, method, endpoint, body, url_params, file_data, internal_retry, allow_retries, additional_headers)</span>
<span class="g g-Whitespace">    </span><span class="mi">468</span>     <span class="k">except</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">469</span>         <span class="c1"># If this error comes from, ie, the web server or something else, then</span>
<span class="g g-Whitespace">    </span><span class="mi">470</span>         <span class="c1"># we have to use &#39;reason&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">471</span>         <span class="n">details</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;msg&quot;</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">reason</span><span class="p">}</span>
<span class="ne">--&gt; </span><span class="mi">473</span>     <span class="k">raise</span> <span class="n">PortalRequestError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Request failed: </span><span class="si">{</span><span class="n">details</span><span class="p">[</span><span class="s1">&#39;msg&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">details</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">475</span> <span class="k">return</span> <span class="n">r</span>

<span class="ne">PortalRequestError</span>: Request failed: 400 Bad Request: Invalid body: 1 validation error for ParsingModel[RecordQueryFilters]
<span class="n">__root__</span> <span class="o">-&gt;</span> <span class="n">creator_user</span>
  <span class="n">extra</span> <span class="n">fields</span> <span class="ow">not</span> <span class="n">permitted</span> <span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">value_error</span><span class="o">.</span><span class="n">extra</span><span class="p">)</span> <span class="p">(</span><span class="n">HTTP</span> <span class="n">status</span> <span class="mi">400</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="how-do-i-retrieve-results-from-a-dataset">
<h3>How do I retrieve results from a dataset?<a class="headerlink" href="#how-do-i-retrieve-results-from-a-dataset" title="Link to this heading">#</a></h3>
<p>QCArchive also supports data to be stored in datasets.
A dataset is a set of related computations.
Datasets can be created when computations are submitted, or after computations have completed, and
computations can belong to multiple datasets.
Datasets are the primary use case for QCArchive, and are usually created with large-scale workflows.
Datasets will contain only one type of calculation.</p>
<p>We can list all of the datasets on the server we’ve connected to using <code class="docutils literal notranslate"><span class="pre">list_datasets</span></code>.
Below, we print the names of the data sets on the QCArchive demo server.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasets</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">list_datasets</span><span class="p">()</span>

<span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">datasets</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Name: </span><span class="si">{</span><span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;dataset_name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">, Type: </span><span class="si">{</span><span class="n">dataset</span><span class="p">[</span><span class="s1">&#39;dataset_type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can retrieve records from a particular dataset using the <code class="docutils literal notranslate"><span class="pre">get_dataset</span></code> method and passing in the dataset name and type. The following cell retrieves the “Element Benchmark” dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="n">dataset_type</span><span class="o">=</span><span class="s2">&quot;singlepoint&quot;</span><span class="p">,</span> <span class="n">dataset_name</span><span class="o">=</span><span class="s2">&quot;Element Benchmark&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Datasets have a lot of properties that are beyond the scope of this overview.
Datasets are made up of many records of the same type of computation that can differ in molecule identity or other specification parameters.
You can pull out iterate over records, see specifications, and compile values from records.</p>
<p>The cell below shows using the <code class="docutils literal notranslate"><span class="pre">get_properties_df</span></code> method to create a pandas dataframe containing the SCF total energy  and SCF iterations from each record.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># use compile_values to make a dataframe</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">get_properties_df</span><span class="p">([</span><span class="s2">&quot;scf_total_energy&quot;</span><span class="p">,</span> <span class="s2">&quot;scf_iterations&quot;</span><span class="p">])</span>

<span class="c1"># view the first 10 rows.</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This dataframe is a multi-index dataframe with the top level index being the “specification” of our calculation.
For example, we can pull out just our results for <code class="docutils literal notranslate"><span class="pre">hf/sto-3g</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;hf/sto-3g&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">df[&quot;hf/sto-3g&quot;][&quot;scf_total_energy&quot;]</span></code> will give us the SCF total energy for all of the records in the dataset with the <code class="docutils literal notranslate"><span class="pre">hf/sto-3g</span></code> specification.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;hf/sto-3g&quot;</span><span class="p">][</span><span class="s2">&quot;scf_total_energy&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="submitting-computations">
<h2>Submitting Computations<a class="headerlink" href="#submitting-computations" title="Link to this heading">#</a></h2>
<p>Beyond retrieving results and querying the database, QCArchive provides a robust system for submitting computations.
You may submit single computations, multiple computations, or computations to create a dataset.</p>
<p>Our QCArchive demo server is publicly readable.
This means you do not need a username or password to access the data.
However, to submit computations, a username and password is required.</p>
<div class="warning admonition">
<p class="admonition-title">Protecting usernames and passwords</p>
<p>When connecting to QCArchive using a username and password, be careful to never commit this information to publicly accessible repositories.
You can store credentials in environment variables, as shown in the cell below,
or you can <a class="reference internal" href="../user_guide/connecting_qcportal.html#qcportal-connecting-file"><span class="std std-ref">read user information from a file</span></a>.</p>
</div>
<p>In the cell below, we read environment variables set in the local environment for our username and password.
We retrieve these using <code class="docutils literal notranslate"><span class="pre">os.environ.get</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">qcportal</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">ptl</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">qcportal.molecules</span><span class="w"> </span><span class="kn">import</span> <span class="n">Molecule</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">ptl</span><span class="o">.</span><span class="n">PortalClient</span><span class="p">(</span><span class="s2">&quot;https://qcademo.molssi.org&quot;</span><span class="p">,</span> 
                          <span class="n">username</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;QCArchiveUsername&quot;</span><span class="p">),</span> 
                          <span class="n">password</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;QCArchivePWD&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>We now have a QCPortal client that can be used to submit computations.</p>
<section id="how-do-i-submit-a-computation">
<h3>How do I submit a computation?<a class="headerlink" href="#how-do-i-submit-a-computation" title="Link to this heading">#</a></h3>
<p>QCArchive currently supports seven different computation types including single point, geometry optimization, reactions, and torsion drives.</p>
<p>For this overview, we will show submitting a single point computation for water using two different methods.
This notebook shows inputting an XYZ string for our molecule, but there are a <a class="reference internal" href="../user_guide/molecule.html#creating-molecules"><span class="std std-ref">number of ways</span></a> to enter molecule information.
Our molecule geometry in this example is an optimized structure of water.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">water_xyz</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;3</span>
<span class="s2">                          H                     0.026223561887     1.224983815810     0.000000000000</span>
<span class="s2">                          H                     0.971741135004     0.039335313725     0.000000000000</span>
<span class="s2">                          O                     0.002035305512     0.235680871424     0.000000000000&quot;&quot;&quot;</span>

<span class="n">water</span> <span class="o">=</span> <span class="n">Molecule</span><span class="o">.</span><span class="n">from_data</span><span class="p">(</span><span class="n">water_xyz</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If NGLView is installed in your environment, the molecule objects in QCArchive can be visualized using NGLView by putting the variable representing the molecule as the last thing in a notebook cell.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">water</span>
</pre></div>
</div>
</div>
</div>
<p>To submit our single point computation, we will use the <code class="docutils literal notranslate"><span class="pre">add_singlepoints</span></code> method.
We will submit two single point computations for the same molecule using different methods.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">add_singlepoints</span></code>, you specify the program you want to run (Psi4 in our case), the driver, the method and the basis set.
The <code class="docutils literal notranslate"><span class="pre">driver</span></code> determines what is in the <code class="docutils literal notranslate"><span class="pre">return_result</span></code> for the record.
For this demonstration, we are submitting two single point calculations for water with a differing method (<code class="docutils literal notranslate"><span class="pre">b3lyp</span></code> vs <code class="docutils literal notranslate"><span class="pre">mp2</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b3lyp_meta</span><span class="p">,</span> <span class="n">b3lyp_record_ids</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_singlepoints</span><span class="p">([</span><span class="n">water</span><span class="p">],</span> 
                                                       <span class="n">program</span><span class="o">=</span><span class="s1">&#39;psi4&#39;</span><span class="p">,</span> 
                                                       <span class="n">driver</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> 
                                                       <span class="n">method</span><span class="o">=</span><span class="s1">&#39;b3lyp&#39;</span><span class="p">,</span> 
                                                       <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;def2-tzvp&#39;</span><span class="p">)</span>

<span class="n">mp2_meta</span><span class="p">,</span> <span class="n">mp2_record_ids</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_singlepoints</span><span class="p">([</span><span class="n">water</span><span class="p">],</span> 
                                                   <span class="n">program</span><span class="o">=</span><span class="s1">&#39;psi4&#39;</span><span class="p">,</span> 
                                                   <span class="n">driver</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> 
                                                   <span class="n">method</span><span class="o">=</span><span class="s1">&#39;mp2&#39;</span><span class="p">,</span> 
                                                   <span class="n">basis</span><span class="o">=</span><span class="s1">&#39;def2-tzvp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Once submitted, we can retrieve the results using the <code class="docutils literal notranslate"><span class="pre">get_records</span></code> method shown earlier in the tutorial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b3lpy_record</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_records</span><span class="p">(</span><span class="n">b3lyp_record_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">mp2_record</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_records</span><span class="p">(</span><span class="n">mp2_record_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;B3LYP Status:</span><span class="se">\t</span><span class="si">{</span><span class="n">b3lpy_record</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MP2 Status:</span><span class="se">\t</span><span class="si">{</span><span class="n">mp2_record</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>When the computations are complete, we can retrieve the energies in the same way we did earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;B3LYP result: </span><span class="si">{</span><span class="n">b3lpy_record</span><span class="o">.</span><span class="n">return_result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MP2 result: </span><span class="si">{</span><span class="n">mp2_record</span><span class="o">.</span><span class="n">return_result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="how-do-i-create-datasets">
<h3>How do I create datasets?<a class="headerlink" href="#how-do-i-create-datasets" title="Link to this heading">#</a></h3>
<p>Instead of submitting these computations separately, we could have grouped them together in a dataset.
This would allow us to more easily retrieve the results together.</p>
<p>To create a dataset, you use the <code class="docutils literal notranslate"><span class="pre">create_dataset</span></code> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">add_dataset</span><span class="p">(</span><span class="s2">&quot;singlepoint&quot;</span><span class="p">,</span>
                        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Water calculations&quot;</span><span class="p">,</span>
                        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Single point calculations of water at various levels of theory.&quot;</span><span class="p">)</span>

</pre></div>
</div>
<p>Creation of datasets is beyond the scope of this overview tutorial.
For more information on dataset construction, see the Dataset Quickstart.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">QCArchive Quickstart</p>
      </div>
    </a>
    <a class="right-next"
       href="record_retrieval.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">How do I retrieve computation results by ID?</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#connecting-to-a-server">Connecting to a server</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#retrieving-data-and-querying-the-database">Retrieving Data and Querying the Database</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-retrieve-computation-results-by-id">How do I retrieve computation results by ID?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-search-for-particular-types-of-computations">How do I search for particular types of computations?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-retrieve-results-from-a-dataset">How do I retrieve results from a dataset?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submitting-computations">Submitting Computations</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-submit-a-computation">How do I submit a computation?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-create-datasets">How do I create datasets?</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/quickstart/qca_15min.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  



  
  
  
  
  
  
  


<div class="row h-10">
    <div class="col-2">
        <a href="https://molssi.org/" target="_blank" title="Go to MolSSI in a new tab">
            <img src="../_static/molssi_main_logo.png" class="logo__image only-light footer_logo" alt="Logo image">
            <img src="../_static/molssi_main_logo_inverted_white.png" class="logo__image only-dark footer_logo" alt="Logo image">
        </a>
    </div>
    <div class="col-8">
        <p> &copy; Copyright 2019-2023 <a href="https://molssi.org/">The Molecular Sciences Software Institute</a></p>
        <p>Funded by the National Science Foundation 
          <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1547580">OAC-1547580</a> and 
          <a href="https://www.nsf.gov/awardsearch/showAward?AWD_ID=2136142">CHE-2136142.</a></p>
 
        
        <p class="sphinx-version">
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.4.7.<br>
        </p>
        

        <p class="theme-version">
        Built with a customized <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
        </p>

    </div>
    <div class="col-2">
        <a href="https://nsf.gov/" target="_blank" title="Go to the NSF in a new tab">
            <img src="../_static/nsf.png" class="footer_logo" alt="The NSF">
          </a>
    </div>
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>